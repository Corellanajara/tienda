<?php

/* Favoritos/index.js.twig */
class __TwigTemplate_28e80f107d06ceedae549e6f2144bf6c99d2defe2fc4deac42d8b81af5e936db extends Twig_Template
{
    public function __construct(Twig_Environment $env)
    {
        parent::__construct($env);

        $this->parent = false;

        $this->blocks = array(
        );
    }

    protected function doDisplay(array $context, array $blocks = array())
    {
        // line 1
        echo "<script type=\"text/javascript\" src=\"";
        echo twig_escape_filter($this->env, $this->getAttribute((isset($context["app"]) ? $context["app"] : null), "path"), "html", null, true);
        echo "/";
        echo twig_escape_filter($this->env, (isset($context["theme"]) ? $context["theme"] : null), "html", null, true);
        echo "/js/jquery-1.8.2.min.js\"></script> ";
        // line 2
        echo "<script src=\"";
        echo twig_escape_filter($this->env, $this->getAttribute((isset($context["app"]) ? $context["app"] : null), "path"), "html", null, true);
        echo "/";
        echo twig_escape_filter($this->env, (isset($context["theme"]) ? $context["theme"] : null), "html", null, true);
        echo "/js/modernizr.custom.12319.js\"></script> ";
        // line 3
        echo "<script src=\"http://code.jquery.com/ui/1.10.3/jquery-ui.js\"></script> <!-- jQuery UI -->  
<script src=\"";
        // line 4
        echo twig_escape_filter($this->env, $this->getAttribute((isset($context["app"]) ? $context["app"] : null), "path"), "html", null, true);
        echo "/";
        echo twig_escape_filter($this->env, (isset($context["theme"]) ? $context["theme"] : null), "html", null, true);
        echo "/js/albatronic.js\"></script>
<script src=\"";
        // line 5
        echo twig_escape_filter($this->env, $this->getAttribute((isset($context["app"]) ? $context["app"] : null), "path"), "html", null, true);
        echo "/";
        echo twig_escape_filter($this->env, (isset($context["theme"]) ? $context["theme"] : null), "html", null, true);
        echo "/js/pirobox_extended.js\"></script>
<script src=\"";
        // line 6
        echo twig_escape_filter($this->env, $this->getAttribute((isset($context["app"]) ? $context["app"] : null), "path"), "html", null, true);
        echo "/";
        echo twig_escape_filter($this->env, (isset($context["theme"]) ? $context["theme"] : null), "html", null, true);
        echo "/js/pirobox_function.js\"></script> ";
        // line 7
        echo "<!-- SLIDER HOME -->
<script src=\"";
        // line 8
        echo twig_escape_filter($this->env, $this->getAttribute((isset($context["app"]) ? $context["app"] : null), "path"), "html", null, true);
        echo "/";
        echo twig_escape_filter($this->env, (isset($context["theme"]) ? $context["theme"] : null), "html", null, true);
        echo "/js/bjqs-1.3.min.js\"></script>
<script src=\"";
        // line 9
        echo twig_escape_filter($this->env, $this->getAttribute((isset($context["app"]) ? $context["app"] : null), "path"), "html", null, true);
        echo "/";
        echo twig_escape_filter($this->env, (isset($context["theme"]) ? $context["theme"] : null), "html", null, true);
        echo "/js/bjqs-function.js\"></script>
<script src=\"";
        // line 10
        echo twig_escape_filter($this->env, $this->getAttribute((isset($context["app"]) ? $context["app"] : null), "path"), "html", null, true);
        echo "/";
        echo twig_escape_filter($this->env, (isset($context["theme"]) ? $context["theme"] : null), "html", null, true);
        echo "/js/jcarousellite.js\" type=\"text/javascript\"></script>
<script type=\"text/javascript\" src=\"";
        // line 11
        echo twig_escape_filter($this->env, $this->getAttribute((isset($context["app"]) ? $context["app"] : null), "path"), "html", null, true);
        echo "/";
        echo twig_escape_filter($this->env, (isset($context["theme"]) ? $context["theme"] : null), "html", null, true);
        echo "/js/jquery-uniform-formulario.js\"></script>
<script src=\"//use.edgefonts.net/open-sans.js\"></script>

<script>
\$(function(){

    // Marca todos los favoritos
    \$('#ponerTodos').click(function(){
        var datos = {
            'accion' : 'ponerTodos'
        }

        \$.ajax({
            url: appPath + '/lib/favoritos.php',
            dataType: 'html',
            type: 'post',
            data: datos,
            success: function(resultado){
                if(resultado>0) {
                    \$('.marcarFavorito').each(function(key,val){
                        \$(this).attr('checked',true);
                    });
                }
            }
        });          
    });

    // Desmarca todos los favoritos
    \$('#quitarTodos').click(function(){
        var datos = {
            'accion' : 'quitarTodos'
        }

        \$.ajax({
            url: appPath + '/lib/favoritos.php',
            dataType: 'html',
            type: 'post',
            data: datos,
            success: function(resultado){
                if(resultado>0) {
                    \$('.marcarFavorito').each(function(key,val){
                        \$(this).attr('checked',false);
                    });
                }
            }
        });          
    });

    // EnvÃ­a al carrito todos los favoritos marcados
    \$('#alCarrito').click(function(){

        \$(this).hide(\"slow\");

        var datos = {
            'accion' : 'alCarrito'
        }

        \$.ajax({
            url: appPath + '/lib/favoritos.php',
            dataType: 'html',
            type: 'post',
            data: datos,
            success: function(resultado){
                if (resultado) {
                    window.location.href = \"";
        // line 75
        echo twig_escape_filter($this->env, $this->getAttribute((isset($context["app"]) ? $context["app"] : null), "path"), "html", null, true);
        echo "/carrito\";
                }
            }
        });          
    });
});

function check(IDArticulo) {

    var datos = {
        'accion' : 'check',            
        'IDArticulo' : IDArticulo,
        'Checked' : (\$('#check'+IDArticulo).is(':checked')) ? 1 : 0
    }

    \$.ajax({
        url: appPath + '/lib/favoritos.php',
        dataType: 'html',
        type: 'post',
        data: datos
    });        
}

function addCart(IDArticulo,unidades) {

    if (IDArticulo === '' || unidades <= 0)
        return;

    var datos = {
        'IDArticulo' : IDArticulo,
        'Unidades' : unidades
    }

    \$.ajax({
        url: appPath + '/lib/carrito.php',
        dataType: 'html',
        type: 'post',
        data: {'parametros': {'accion': 'add', 'datos': datos} },
        success: function(resultado) {
            var datos = \$.parseJSON(resultado);  
            if (datos.status === 'error') {
                \$('#mensajes').html(datos.errores);
                \$('#mensajes').dialog('open');
            } else {
                html = \"<ul>\";
                html = html + \"<li><span>";
        // line 120
        echo twig_escape_filter($this->env, $this->getAttribute($this->getAttribute((isset($context["values"]) ? $context["values"] : null), "LABELS"), "productos"), "html", null, true);
        echo "</span><span>\"+datos.totales.Unidades+\"</span></li>\";
                html = html + \"<li><span>";
        // line 121
        echo twig_escape_filter($this->env, $this->getAttribute($this->getAttribute((isset($context["values"]) ? $context["values"] : null), "LABELS"), "importe"), "html", null, true);
        echo "</span><span>\"+datos.totales.Importe+\"</span></li>\";
                html = html + \"</ul>\";

                \$('#cajaCarrito').html(html);           
                \$('#verCarrito').html(\"<a href='";
        // line 125
        echo twig_escape_filter($this->env, (isset($context["appPath"]) ? $context["appPath"] : null), "html", null, true);
        echo "/carrito'>";
        echo twig_escape_filter($this->env, $this->getAttribute($this->getAttribute((isset($context["values"]) ? $context["values"] : null), "LABELS"), "verCarrito"), "html", null, true);
        echo "</a>\");
            }
        }
    });
}
</script>
";
    }

    public function getTemplateName()
    {
        return "Favoritos/index.js.twig";
    }

    public function isTraitable()
    {
        return false;
    }

    public function getDebugInfo()
    {
        return array (  200 => 125,  193 => 121,  189 => 120,  141 => 75,  72 => 11,  66 => 10,  60 => 9,  54 => 8,  51 => 7,  46 => 6,  40 => 5,  34 => 4,  31 => 3,  25 => 2,  19 => 1,);
    }
}

